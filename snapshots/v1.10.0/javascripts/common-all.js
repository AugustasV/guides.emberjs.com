/*! GetDevicePixelRatio | Author: Tyson Matanich, 2012 | License: MIT */
!function(t){t.getDevicePixelRatio=function(){var e=1;return void 0!==t.screen.systemXDPI&&void 0!==t.screen.logicalXDPI&&t.screen.systemXDPI>t.screen.logicalXDPI?e=t.screen.systemXDPI/t.screen.logicalXDPI:void 0!==t.devicePixelRatio&&(e=t.devicePixelRatio),e}}(this),$(function(){var t=$("#back-to-top"),e=$(document),n=t.offset(),r=!1;positionBackToTop=function(i){i&&(t.css({top:"",position:""}),n=t.offset()),!r&&e.scrollTop()>n.top+200?(r=!0,t.css({position:"fixed",top:20,left:n.left,display:" block"})):r&&e.scrollTop()<=n.top+200&&(r=!1,t.css({display:"none"}))},t.length&&(t.on("click",function(){return $("html,body").animate({scrollTop:0},200),!1}),e.on("scroll",function(){positionBackToTop()})),$(".bx-wrapper, .bx-window").width(940)}),function(){var t=this,e=t._,n=Array.prototype,r=Object.prototype,i=Function.prototype,u=n.push,o=n.slice,a=n.concat,s=r.toString,l=r.hasOwnProperty,c=Array.isArray,f=Object.keys,p=i.bind,h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):t._=h,h.VERSION="1.7.0";var d=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,u){return t.call(e,n,r,i,u)}}return function(){return t.apply(e,arguments)}};h.iteratee=function(t,e,n){return null==t?h.identity:h.isFunction(t)?d(t,e,n):h.isObject(t)?h.matches(t):h.property(t)},h.each=h.forEach=function(t,e,n){if(null==t)return t;e=d(e,n);var r,i=t.length;if(i===+i)for(r=0;i>r;r++)e(t[r],r,t);else{var u=h.keys(t);for(r=0,i=u.length;i>r;r++)e(t[u[r]],u[r],t)}return t},h.map=h.collect=function(t,e,n){if(null==t)return[];e=h.iteratee(e,n);for(var r,i=t.length!==+t.length&&h.keys(t),u=(i||t).length,o=Array(u),a=0;u>a;a++)r=i?i[a]:a,o[a]=e(t[r],r,t);return o};var v="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(t,e,n,r){null==t&&(t=[]),e=d(e,r,4);var i,u=t.length!==+t.length&&h.keys(t),o=(u||t).length,a=0;if(arguments.length<3){if(!o)throw new TypeError(v);n=t[u?u[a++]:a++]}for(;o>a;a++)i=u?u[a]:a,n=e(n,t[i],i,t);return n},h.reduceRight=h.foldr=function(t,e,n,r){null==t&&(t=[]),e=d(e,r,4);var i,u=t.length!==+t.length&&h.keys(t),o=(u||t).length;if(arguments.length<3){if(!o)throw new TypeError(v);n=t[u?u[--o]:--o]}for(;o--;)i=u?u[o]:o,n=e(n,t[i],i,t);return n},h.find=h.detect=function(t,e,n){var r;return e=h.iteratee(e,n),h.some(t,function(t,n,i){return e(t,n,i)?(r=t,!0):void 0}),r},h.filter=h.select=function(t,e,n){var r=[];return null==t?r:(e=h.iteratee(e,n),h.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r)},h.reject=function(t,e,n){return h.filter(t,h.negate(h.iteratee(e)),n)},h.every=h.all=function(t,e,n){if(null==t)return!0;e=h.iteratee(e,n);var r,i,u=t.length!==+t.length&&h.keys(t),o=(u||t).length;for(r=0;o>r;r++)if(i=u?u[r]:r,!e(t[i],i,t))return!1;return!0},h.some=h.any=function(t,e,n){if(null==t)return!1;e=h.iteratee(e,n);var r,i,u=t.length!==+t.length&&h.keys(t),o=(u||t).length;for(r=0;o>r;r++)if(i=u?u[r]:r,e(t[i],i,t))return!0;return!1},h.contains=h.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=h.values(t)),h.indexOf(t,e)>=0)},h.invoke=function(t,e){var n=o.call(arguments,2),r=h.isFunction(e);return h.map(t,function(t){return(r?e:t[e]).apply(t,n)})},h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matches(e))},h.findWhere=function(t,e){return h.find(t,h.matches(e))},h.max=function(t,e,n){var r,i,u=-1/0,o=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var a=0,s=t.length;s>a;a++)r=t[a],r>u&&(u=r)}else e=h.iteratee(e,n),h.each(t,function(t,n,r){i=e(t,n,r),(i>o||i===-1/0&&u===-1/0)&&(u=t,o=i)});return u},h.min=function(t,e,n){var r,i,u=1/0,o=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var a=0,s=t.length;s>a;a++)r=t[a],u>r&&(u=r)}else e=h.iteratee(e,n),h.each(t,function(t,n,r){i=e(t,n,r),(o>i||1/0===i&&1/0===u)&&(u=t,o=i)});return u},h.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:h.values(t),r=n.length,i=Array(r),u=0;r>u;u++)e=h.random(0,u),e!==u&&(i[u]=i[e]),i[e]=n[u];return i},h.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=h.values(t)),t[h.random(t.length-1)]):h.shuffle(t).slice(0,Math.max(0,e))},h.sortBy=function(t,e,n){return e=h.iteratee(e,n),h.pluck(h.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var g=function(t){return function(e,n,r){var i={};return n=h.iteratee(n,r),h.each(e,function(r,u){var o=n(r,u,e);t(i,r,o)}),i}};h.groupBy=g(function(t,e,n){h.has(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=g(function(t,e,n){t[n]=e}),h.countBy=g(function(t,e,n){h.has(t,n)?t[n]++:t[n]=1}),h.sortedIndex=function(t,e,n,r){n=h.iteratee(n,r,1);for(var i=n(e),u=0,o=t.length;o>u;){var a=u+o>>>1;n(t[a])<i?u=a+1:o=a}return u},h.toArray=function(t){return t?h.isArray(t)?o.call(t):t.length===+t.length?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:t.length===+t.length?t.length:h.keys(t).length},h.partition=function(t,e,n){e=h.iteratee(e,n);var r=[],i=[];return h.each(t,function(t,n,u){(e(t,n,u)?r:i).push(t)}),[r,i]},h.first=h.head=h.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:o.call(t,0,e)},h.initial=function(t,e,n){return o.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:o.call(t,Math.max(t.length-e,0))},h.rest=h.tail=h.drop=function(t,e,n){return o.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,h.identity)};var y=function(t,e,n,r){if(e&&h.every(t,h.isArray))return a.apply(r,t);for(var i=0,o=t.length;o>i;i++){var s=t[i];h.isArray(s)||h.isArguments(s)?e?u.apply(r,s):y(s,e,n,r):n||r.push(s)}return r};h.flatten=function(t,e){return y(t,e,!1,[])},h.without=function(t){return h.difference(t,o.call(arguments,1))},h.uniq=h.unique=function(t,e,n,r){if(null==t)return[];h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=h.iteratee(n,r));for(var i=[],u=[],o=0,a=t.length;a>o;o++){var s=t[o];if(e)o&&u===s||i.push(s),u=s;else if(n){var l=n(s,o,t);h.indexOf(u,l)<0&&(u.push(l),i.push(s))}else h.indexOf(i,s)<0&&i.push(s)}return i},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,i=t.length;i>r;r++){var u=t[r];if(!h.contains(e,u)){for(var o=1;n>o&&h.contains(arguments[o],u);o++);o===n&&e.push(u)}}return e},h.difference=function(t){var e=y(o.call(arguments,1),!0,!0,[]);return h.filter(t,function(t){return!h.contains(e,t)})},h.zip=function(t){if(null==t)return[];for(var e=h.max(arguments,"length").length,n=Array(e),r=0;e>r;r++)n[r]=h.pluck(arguments,r);return n},h.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},h.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=h.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(t[r]===e)return r;return-1},h.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},h.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),u=0;r>u;u++,t+=n)i[u]=t;return i};var m=function(){};h.bind=function(t,e){var n,r;if(p&&t.bind===p)return p.apply(t,o.call(arguments,1));if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");return n=o.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(o.call(arguments)));m.prototype=t.prototype;var i=new m;m.prototype=null;var u=t.apply(i,n.concat(o.call(arguments)));return h.isObject(u)?u:i}},h.partial=function(t){var e=o.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,u=r.length;u>i;i++)r[i]===h&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},h.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=h.bind(t[n],t);return t},h.memoize=function(t,e){var n=function(r){var i=n.cache,u=e?e.apply(this,arguments):r;return h.has(i,u)||(i[u]=t.apply(this,arguments)),i[u]};return n.cache={},n},h.delay=function(t,e){var n=o.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},h.defer=function(t){return h.delay.apply(h,[t,1].concat(o.call(arguments,1)))},h.throttle=function(t,e,n){var r,i,u,o=null,a=0;n||(n={});var s=function(){a=n.leading===!1?0:h.now(),o=null,u=t.apply(r,i),o||(r=i=null)};return function(){var l=h.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return r=this,i=arguments,0>=c||c>e?(clearTimeout(o),o=null,a=l,u=t.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(s,c)),u}},h.debounce=function(t,e,n){var r,i,u,o,a,s=function(){var l=h.now()-o;e>l&&l>0?r=setTimeout(s,e-l):(r=null,n||(a=t.apply(u,i),r||(u=i=null)))};return function(){u=this,i=arguments,o=h.now();var l=n&&!r;return r||(r=setTimeout(s,e)),l&&(a=t.apply(u,i),u=i=null),a}},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},h.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},h.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},h.once=h.partial(h.before,2),h.keys=function(t){if(!h.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)h.has(t,n)&&e.push(n);return e},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()},h.extend=function(t){if(!h.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(n in e)l.call(e,n)&&(t[n]=e[n])}return t},h.pick=function(t,e,n){var r,i={};if(null==t)return i;if(h.isFunction(e)){e=d(e,n);for(r in t){var u=t[r];e(u,r,t)&&(i[r]=u)}}else{var s=a.apply([],o.call(arguments,1));t=new Object(t);for(var l=0,c=s.length;c>l;l++)r=s[l],r in t&&(i[r]=t[r])}return i},h.omit=function(t,e,n){if(h.isFunction(e))e=h.negate(e);else{var r=h.map(a.apply([],o.call(arguments,1)),String);e=function(t,e){return!h.contains(r,e)}}return h.pick(t,e,n)},h.defaults=function(t){if(!h.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var r=arguments[e];for(var i in r)void 0===t[i]&&(t[i]=r[i])}return t},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t};var w=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var i=s.call(t);if(i!==s.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;var o=t.constructor,a=e.constructor;if(o!==a&&"constructor"in t&&"constructor"in e&&!(h.isFunction(o)&&o instanceof o&&h.isFunction(a)&&a instanceof a))return!1;n.push(t),r.push(e);var l,c;if("[object Array]"===i){if(l=t.length,c=l===e.length)for(;l--&&(c=w(t[l],e[l],n,r)););}else{var f,p=h.keys(t);if(l=p.length,c=h.keys(e).length===l)for(;l--&&(f=p[l],c=h.has(e,f)&&w(t[f],e[f],n,r)););}return n.pop(),r.pop(),c};h.isEqual=function(t,e){return w(t,e,[],[])},h.isEmpty=function(t){if(null==t)return!0;if(h.isArray(t)||h.isString(t)||h.isArguments(t))return 0===t.length;for(var e in t)if(h.has(t,e))return!1;return!0},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=c||function(t){return"[object Array]"===s.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){h["is"+t]=function(e){return s.call(e)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return h.has(t,"callee")}),"function"!=typeof/./&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&t!==+t},h.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===s.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){return null!=t&&l.call(t,e)},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(t){return function(e){return e[t]}},h.matches=function(t){var e=h.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var r=0;n>r;r++){var i=e[r],u=i[0];if(i[1]!==t[u]||!(u in t))return!1}return!0}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=d(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=h.invert(b),k=function(t){var e=function(e){return t[e]},n="(?:"+h.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};h.escape=k(b),h.unescape=k(_),h.result=function(t,e){if(null==t)return void 0;var n=t[e];return h.isFunction(n)?t[e]():n};var x=0;h.uniqueId=function(t){var e=++x+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,S=function(t){return"\\"+C[t]};h.template=function(t,e,n){!e&&n&&(e=n),e=h.defaults({},e,h.templateSettings);var r=RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g"),i=0,u="__p+='";t.replace(r,function(e,n,r,o,a){return u+=t.slice(i,a).replace(j,S),i=a+e.length,n?u+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(u+="';\n"+o+"\n__p+='"),e}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var o=new Function(e.variable||"obj","_",u)}catch(a){throw a.source=u,a}var s=function(t){return o.call(this,t,h)},l=e.variable||"obj";return s.source="function("+l+"){\n"+u+"}",s},h.chain=function(t){var e=h(t);return e._chain=!0,e};var T=function(t){return this._chain?h(t).chain():t};h.mixin=function(t){h.each(h.functions(t),function(e){var n=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),T.call(this,n.apply(h,t))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];h.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],T.call(this,n)}}),h.each(["concat","join","slice"],function(t){var e=n[t];h.prototype[t]=function(){return T.call(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(t){function e(t){this.size=0,this.limit=t,this._keymap={}}var n=function(t){var e,n,r={};if(""===t)return{};for(e=0;e<t.length;e+=1)n=t[e].split("="),2===n.length&&(r[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")));return r};t.queryParams=function(){return n(window.location.search.substr(1).split("&"))},t.hashParams=function(){return n(window.location.hash.substr(1).split("&"))};var r=0;window.Swiftype=window.Swiftype||{},Swiftype.root_url=Swiftype.root_url||"https://api.swiftype.com",Swiftype.pingUrl=function(t,e){var n=setTimeout(e,350),r=new Image;return r.onload=r.onerror=function(){clearTimeout(n),e()},r.src=t,!1},Swiftype.pingAutoSelection=function(e,n,r,i){var u={t:(new Date).getTime(),engine_key:e,doc_id:n,prefix:r},o=Swiftype.root_url+"/api/v1/public/analytics/pas?"+t.param(u);Swiftype.pingUrl(o,i)},Swiftype.findSelectedSection=function(){function e(t){var e=t.replace(/\s+/g,"");return e=e.toLowerCase()}var n=t.hashParams().sts;n&&(n=e(n),t("h1, h2, h3, h4, h5, h6").each(function(){return $this=t(this),e($this.text()).indexOf(n)>=0?(this.scrollIntoView(!0),!1):void 0}))},Swiftype.htmlEscape=Swiftype.htmlEscape||function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.fn.swiftype=function(n){Swiftype.findSelectedSection();var n=t.extend({},t.fn.swiftype.defaults,n);return this.each(function(){var u=t(this),o=t.meta?t.extend({},n,u.data()):n;u.attr("autocomplete","off"),u.data("swiftype-config-autocomplete",o),u.submitted=!1,u.cache=new e(10),u.emptyQueries=[],u.isEmpty=function(e){return t.inArray(i(e),this.emptyQueries)>=0},u.addEmpty=function(t){u.emptyQueries.unshift(i(t))};var s=o.dropdownStylesFunction(u),l=t('<div class="'+o.widgetContainerClass+'" />'),c=t("<div />").addClass(o.suggestionListClass).appendTo(l).css(s).hide();l.appendTo(o.autocompleteContainingElement);var f=t("<"+o.suggestionListType+" />").appendTo(c);u.data("swiftype-list",f),u.abortCurrent=function(){u.currentRequest&&u.currentRequest.abort()},u.showList=function(){h(o.disableAutocomplete)===!1&&c.show()},u.hideList=function(t){t?c.hide():setTimeout(function(){c.hide()},10)},u.focused=function(){return u.is(":focus")},u.submitting=function(){u.submitted=!0},u.listResults=function(){return t(o.resultListSelector,f)},u.activeResult=function(){return u.listResults().filter("."+o.activeItemClass).first()},u.prevResult=function(){var t=u.listResults(),e=t.index(u.activeResult()),n=e-1,r=t.eq(n);u.listResults().removeClass(o.activeItemClass),n>=0&&r.addClass(o.activeItemClass)},u.nextResult=function(){var t=u.listResults(),e=t.index(u.activeResult()),n=e+1,r=t.eq(n);u.listResults().removeClass(o.activeItemClass),n>=0&&r.addClass(o.activeItemClass)},u.selectedCallback=function(t){return function(){var e=u.val(),n=function(){o.onComplete(t,e)};Swiftype.pingAutoSelection(o.engineKey,t.id,e,n)}},u.registerResult=function(t,e){t.data("swiftype-item",e),t.click(u.selectedCallback(e)).mouseover(function(){u.listResults().removeClass(o.activeItemClass),t.addClass(o.activeItemClass)})},u.getContext=function(){return{config:o,list:f,registerResult:u.registerResult}};var p,d=!1;u.lastValue="",u.keyup(function(t){return d?void(d=!1):void(t.which>36&&t.which<41||16==t.which||(o.typingDelay>0?(clearTimeout(p),p=setTimeout(function(){a(u)},o.typingDelay)):a(u)))}),u.styleDropdown=function(){c.css(o.dropdownStylesFunction(u))},t(window).resize(function(){u.styleDropdown()}),u.keydown(function(t){u.styleDropdown();var e=u.activeResult();switch(t.which){case 13:0!==e.length&&f.is(":visible")?(t.preventDefault(),u.selectedCallback(e.data("swiftype-item"))()):u.currentRequest&&u.submitting(),u.hideList(),d=!0;break;case 38:t.preventDefault(),0===e.length?u.listResults().last().addClass(o.activeItemClass):u.prevResult();break;case 40:t.preventDefault(),0===e.length?u.listResults().first().addClass(o.activeItemClass):e!=u.listResults().last()&&u.nextResult();break;case 27:u.hideList(),d=!0;break;default:u.submitted=!1}}),u.keypress(function(t){13==t.which&&u.activeResult().length>0&&t.preventDefault()});var v=!1,g=!1;t(document).bind("mousedown.swiftype"+ ++r,function(){v=!0}),t(document).bind("mouseup.swiftype"+r,function(){v=!1,g&&(g=!1,u.hideList())}),u.blur(function(){v?g=!0:u.hideList()}),u.focus(function(){setTimeout(function(){u.select()},10),u.listResults().filter(":not(."+o.noResultsClass+")").length>0&&u.showList()})})};var i=function(e){return t.trim(e).toLowerCase()},u=function(e,n){e.abortCurrent();var r={},u=e.data("swiftype-config-autocomplete");r.q=n,r.engine_key=u.engineKey,r.search_fields=h(u.searchFields),r.fetch_fields=h(u.fetchFields),r.filters=h(u.filters),r.document_types=h(u.documentTypes),r.functional_boosts=h(u.functionalBoosts),r.sort_field=h(u.sortField),r.sort_direction=h(u.sortDirection),r.per_page=u.resultLimit;var o=Swiftype.root_url+"/api/v1/public/engines/suggest.json";e.currentRequest=t.ajax({type:"GET",dataType:"jsonp",url:o,data:r}).success(function(t){var r=i(n);return t.record_count>0?(e.cache.put(r,t.records),void s(e,t.records,n)):(e.addEmpty(r),e.data("swiftype-list").empty(),void e.hideList())})},o=function(t,e){var n=i(e);if(t.isEmpty(n))return t.data("swiftype-list").empty(),void t.hideList();var r=t.cache.get(n);r?s(t,r,e):u(t,e)},a=function(e){var n=e.val();if(n!==e.lastValue)return e.lastValue=n,""===t.trim(n)?(e.data("swiftype-list").empty(),void e.hideList()):void("undefined"!=typeof e.data("swiftype-config-autocomplete").engineKey&&o(e,n))},s=function(t,e){var n=t.data("swiftype-list"),r=t.data("swiftype-config-autocomplete");n.empty(),t.hideList(!0),r.resultRenderFunction(t.getContext(),e);var i=t.listResults().length;(i>0&&t.focused()||void 0!==r.noResultsMessage)&&(t.submitted?t.submitted=!1:t.showList())},l=function(e,n){var r=e.list,i=e.config;t.each(n,function(n,u){t.each(u,function(u,o){e.registerResult(t("<li>"+i.renderFunction(n,o)+"</li>").appendTo(r),o)})})},c=function(t,e){return'<p class="title">'+Swiftype.htmlEscape(e.title)+"</p>"},f=function(t){window.location=t.url},p=function(e){var n=e.data("swiftype-config-autocomplete"),r=n.attachTo?t(n.attachTo):e,i=r.offset(),u={position:"absolute","z-index":9999,top:i.top+r.outerHeight()+1,left:i.left};return n.setWidth&&(u.width=r.outerWidth()-2),u},h=function(t){if(void 0!==t){var e=t;return"function"==typeof e&&(e=e.call()),e}return void 0};e.prototype.put=function(t,e){var n={key:t,value:e};return this._keymap[t]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():void this.size++},e.prototype.shift=function(){var t=this.head;return t&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,t.newer=t.older=void 0,delete this._keymap[t.key]),t},e.prototype.get=function(t,e){var n=this._keymap[t];if(void 0!==n)return n===this.tail?n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,e?n:n.value)},e.prototype.remove=function(t){var e=this._keymap[t];if(e)return delete this._keymap[e.key],e.newer&&e.older?(e.older.newer=e.newer,e.newer.older=e.older):e.newer?(e.newer.older=void 0,this.head=e.newer):e.older?(e.older.newer=void 0,this.tail=e.older):this.head=this.tail=void 0,this.size--,e.value},e.prototype.clear=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},e.prototype.keys="function"==typeof Object.keys?function(){return Object.keys(this._keymap)}:function(){var t=[];for(var e in this._keymap)t.push(e);return t},t.fn.swiftype.defaults={activeItemClass:"active",attachTo:void 0,documentTypes:void 0,filters:void 0,engineKey:void 0,searchFields:void 0,functionalBoosts:void 0,sortField:void 0,sortDirection:void 0,fetchFields:void 0,noResultsClass:"noResults",noResultsMessage:void 0,onComplete:f,resultRenderFunction:l,renderFunction:c,dropdownStylesFunction:p,resultLimit:void 0,suggestionListType:"ul",suggestionListClass:"autocomplete",resultListSelector:"li",setWidth:!0,typingDelay:80,disableAutocomplete:!1,autocompleteContainingElement:"body",widgetContainerClass:"swiftype-widget"}}(jQuery),$(function(){var t=function(t){window.location="/v1.10.0"+t.url};$("#st-search-input").swiftype({engineKey:"ha9YM1kgBdihxrq_8ZHK",searchFields:{"guides-v1-10-0":["body","title","url"]},fetchFields:{"guides-v1-10-0":["title","body","url"]},documentTypes:["guides-v1-10-0"],onComplete:t})});